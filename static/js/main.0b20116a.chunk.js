(this["webpackJsonpreact-movie-search"]=this["webpackJsonpreact-movie-search"]||[]).push([[0],{13:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(10),o=a.n(s),i=a(5),l=a(7),c=a(1),p=a(2),g=a(4),u=a(3),m=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.sort_by,a=e.onChangeFilters,r=e.options;return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"sort_by"},"Sort by:"),n.a.createElement("select",{id:"sort_by",className:"form-control",name:"sort_by",value:t,onChange:a},r.map((function(e){return n.a.createElement("option",{key:e.value,value:e.value},e.label)}))))}}]),a}(n.a.PureComponent);m.defaultProps={options:[{label:"Popularity descending",value:"popularity.desc"},{label:"Popularity ascending",value:"popularity.asc"},{label:"Rating descending",value:"vote_average.desc"},{label:"Rating ascending",value:"vote_average.asc"}]};var h=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.primary_release_year,a=e.onChangeFilters,r=e.options;return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"primary_release_year"},"Release Year :"),n.a.createElement("select",{id:"primary_release_year",className:"form-control",name:"primary_release_year",value:t,onChange:a},r.map((function(e){return n.a.createElement("option",{key:e.value,value:e.value},e.label)}))))}}]),a}(n.a.PureComponent);h.defaultProps={options:[{label:"2022",value:"2022"},{label:"2021",value:"2021"},{label:"2020",value:"2020"},{label:"2019",value:"2019"}]};var v=a(12),b="https://api.themoviedb.org/3",f="88fa8ee43cb29baa5a50bfd05010c8ff",d=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onChange=function(t){e.props.onChangeFilters({target:{name:"with_genres",value:t.target.checked?[].concat(Object(v.a)(e.props.with_genres),[t.target.value]):e.props.with_genres.filter((function(e){return e!==t.target.value}))}})},e.resetGenres=function(){e.props.onChangeFilters({target:{name:"with_genres",value:[]}})},e.state={genresList:[]},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="".concat(b,"/genre/movie/list?api_key=").concat(f,"&language=en-US");fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({genresList:t.genres})}))}},{key:"render",value:function(){var e=this,t=this.state.genresList,a=this.props.with_genres;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"btn btn-outline-dark mb-1",onClick:this.resetGenres},"Show All Genres")),t.map((function(t){return n.a.createElement("div",{key:t.id,className:"form-check"},n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:t.id,id:"genre".concat(t.id),onChange:e.onChange,checked:a.includes(String(t.id))}),n.a.createElement("label",{className:"form-check-label",htmlFor:"genre".concat(t.id)},t.name))}))))}}]),a}(n.a.PureComponent),y=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).nextPage=function(){e.props.onChangePage({page:e.props.page+1,total_pages:e.props.total_pages})},e.prevPage=function(){e.props.onChangePage({page:e.props.page-1,total_pages:e.props.total_pages})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.page,a=e.total_pages;return n.a.createElement("nav",{className:"form-group d-flex justify-content-between align-items-center"},n.a.createElement("div",{className:"btn-group"},n.a.createElement("button",{type:"button",className:"btn btn-light",disabled:1===t,onClick:this.prevPage},"\xab Prev"),n.a.createElement("button",{type:"button",className:"btn btn-light",disabled:t===a,onClick:this.nextPage},"Next \xbb")),n.a.createElement("span",null,t," of ",a))}}]),a}(n.a.PureComponent),_=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.filters,a=t.sort_by,r=t.primary_release_year,s=t.with_genres,o=e.page,i=e.total_pages,l=e.onChangeFilters,c=e.onChangePage;return n.a.createElement("form",{className:"mb3"},n.a.createElement(m,{sort_by:a,onChangeFilters:l}),n.a.createElement(h,{primary_release_year:r,onChangeFilters:l}),n.a.createElement(d,{with_genres:s,onChangeFilters:l}),n.a.createElement(y,{page:o,total_pages:i,onChangePage:c}))}}]),a}(n.a.Component),E=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.item,t=e.backdrop_path||e.poster_path;return n.a.createElement("div",{className:"card"},n.a.createElement("img",{className:"card-img-top card-img--height",src:t?"https://image.tmdb.org/t/p/w500".concat(t):"missing poster",alt:"poster"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h6",{className:"card-title"},e.title),n.a.createElement("div",{className:"card-text"},"Rate: ",e.vote_average),n.a.createElement("div",{className:"card-release_date"},"Year: ",e.release_date)))}}]),a}(n.a.Component),j=a(11),C=a.n(j),O=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getMovies=function(t,a){var r=t.sort_by,n=t.primary_release_year,s=t.with_genres,o={api_key:f,language:"en-US",sort_by:r,page:a,primary_release_year:n};s.length>0&&(o.with_genres=s.join(","));var i="".concat(b,"/discover/movie?").concat(C.a.stringify(o));fetch(i).then((function(e){return e.json()})).then((function(t){e.props.onChangePage({page:t.page,total_pages:t.total_pages}),e.setState({movies:t.results,genresList:t.genres})}))},e.state={movies:[]},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getMovies(this.props.filters,this.props.page)}},{key:"componentDidUpdate",value:function(e){this.props.filters.sort_by!==e.filters.sort_by&&(this.props.onChangePage(1),this.getMovies(this.props.filters,1)),this.props.page!==e.page&&this.getMovies(this.props.filters,this.props.page,this.props.with_genres),this.props.filters.primary_release_year!==e.filters.primary_release_year&&this.getMovies(this.props.filters,this.props.page,this.props.with_genres),this.props.filters.with_genres!==e.filters.with_genres&&this.getMovies(this.props.filters,this.props.page,this.props.with_genres)}},{key:"render",value:function(){var e=this.state.movies;return n.a.createElement("div",{className:"row"},e.map((function(e){return n.a.createElement("div",{key:e.id,className:"col-6 mb-4"},n.a.createElement(E,{item:e}))})))}}]),a}(r.Component),k=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onChangeFilters=function(t){var a=Object(l.a)(Object(l.a)({},e.state.filters),{},Object(i.a)({},t.target.name,t.target.value));e.setState({filters:a})},e.onChangePage=function(t){var a=t.page,r=t.total_pages,n=void 0===r?e.state.total_pages:r;e.setState({page:a,total_pages:n})},e.state={filters:{sort_by:"popularity.desc",primary_release_year:"2022",with_genres:[]},page:1,total_pages:""},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.filters,a=e.page,r=e.total_pages;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row mt-4"},n.a.createElement("div",{className:"col-4"},n.a.createElement("div",{className:"card",style:{width:"100%"}},n.a.createElement("div",{className:"card-body"},n.a.createElement("h3",null,"Filters:"),n.a.createElement(_,{page:a,total_pages:r,filters:t,onChangeFilters:this.onChangeFilters,onChangePage:this.onChangePage})))),n.a.createElement("div",{className:"col-8"},n.a.createElement(O,{filters:t,page:a,onChangePage:this.onChangePage}))))}}]),a}(n.a.Component);a(32),a(33);o.a.render(n.a.createElement(k,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.0b20116a.chunk.js.map